import{r,j as e,m as u,d as p,G as f,e as g,Y as b}from"./index-59d921e2.js";const j=()=>{const[a,o]=r.useState([]),[c,d]=r.useState(!0),[m,h]=r.useState(!1);r.useEffect(()=>{(async()=>{try{const{data:s,error:l}=await p.from("success_stories").select("*").order("created_at",{ascending:!1}).limit(10);if(l)throw console.error("Supabase fetch error (Stories):",l),l;o(s||[])}catch{console.warn("Unable to fetch success stories - check network connection or table existence."),h(!0)}finally{d(!1)}})()},[]);const n=r.useMemo(()=>{if(!a.length)return[];const t=6;if(a.length>=t)return a;const s=[];for(;s.length<t;)s.push(...a);return s.slice(0,t)},[a]),x=r.useMemo(()=>{const t=Math.max(n.length,1);return Math.min(80,Math.max(28,t*7))},[n.length]),i=(t,s)=>e.jsx("div",{className:"w-[280px] sm:w-[320px] md:w-[360px] shrink-0 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all relative flex flex-col",children:e.jsxs("div",{className:"p-6 flex-grow pb-16 relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:t.photo_url||"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&q=80",alt:t.student_name,className:"w-16 h-16 rounded-full object-cover border-2 border-green-100",loading:"lazy"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:t.student_name}),e.jsxs("p",{className:"text-sm text-blue-600 font-medium flex items-center",children:[e.jsx(f,{className:"w-3 h-3 mr-1"})," ",t.course]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Now Studying at:"}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.college}),t.state&&e.jsx("p",{className:"text-xs text-gray-400",children:t.state})]}),e.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:e.jsxs("p",{className:"text-gray-700 text-sm italic",children:[e.jsx(g,{className:"w-4 h-4 text-green-600 inline mr-1"}),'"',t.achievement_description,'"']})}),t.youtube_video_url&&e.jsx("a",{href:t.youtube_video_url,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-0 right-0 m-4 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-md transition-transform hover:scale-110 flex items-center justify-center z-10",title:"Watch Success Story",children:e.jsx(b,{className:"w-5 h-5 fill-white"})})]})},s);return c||m||n.length===0?null:e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-10",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:["Student ",e.jsx("span",{className:"text-green-600",children:"Success Stories"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Inspiring journeys of students who found their dream colleges with us."})]}),e.jsxs("div",{className:"relative overflow-hidden pb-8",children:[e.jsx("div",{className:"pointer-events-none absolute left-0 top-0 h-full w-10 bg-gradient-to-r from-white to-transparent z-10"}),e.jsx("div",{className:"pointer-events-none absolute right-0 top-0 h-full w-10 bg-gradient-to-l from-white to-transparent z-10"}),e.jsxs("div",{className:"news-ticker-track flex items-stretch",style:{animationDuration:`${x}s`},children:[e.jsx("div",{className:"flex flex-nowrap items-stretch gap-6 pr-6",children:n.map((t,s)=>i(t,`${t.id}-a-${s}`))}),e.jsx("div",{className:"flex flex-nowrap items-stretch gap-6 pr-6","aria-hidden":"true",children:n.map((t,s)=>i(t,`${t.id}-b-${s}`))})]})]})]})})};export{j as default};
